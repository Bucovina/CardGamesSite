<!DOCTYPE html>
<html lang="ro">
<head>
    <meta name="description"
          content="Cofetaria Dulcelind ofera prajituri, torturi, produse de patiserie cu optiunea de achizitie online si livrare prin curier.">
    <meta name="keywords" content="cofetarie, Dulcelind, prajituri, torturi, dulce, pateuri, produse">
    <title>Cards and Board Games</title>
    <%- include("../fragmente/head") %>
    <script type="text/javascript" src=/resurse/js/produse.js></script>
    <link rel="stylesheet" href="/resurse/css/produse.css" type="text/css"/>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
</head>
<body>
<%- include("../fragmente/header") %>

<main>
    <label> Nume: <input type="text" id="inp-nume" onblur="validateAlphabeticText()"></label>
    <div> Producatori:
        <% for (let pdc of locals.produc) { %>
            <p><label> <%- pdc.unnest %>
                    <input name="gr_rad" value="<%- pdc.unnest %>" type="radio"/>
                </label></p>
        <% } %>
        <p><label>Toate
                <input checked id="r_default" name="gr_rad" value="toate" type="radio"/>
            </label>
    </div>
    <br>
    <label>Select pret:
        <select id="inp-pret" multiple>
            <option value="0-30">0-30</option>
            <option value="30-100">30-100</option>
            <option value="100-250">100-250</option>
            <option value="250-1000000000">Peste</option>
        </select>
    </label>
    <br>
    <label> Minim puncte de loialitate: <input type="range" id="inp-puncte" class="form-range" value="0" min="0"
                                               max="30"><span id="infoRange">(0)</span></label>
    <label> Categorie:
        <select id="inp-categorie">
            <option id="sel-toate" selected value="toate">toate</option>
            <% for (let opt of locals.optiuni) { %>
                <option value="<%- opt.unnest %>"><%- opt.unnest %> </option>
            <% } %>
        </select>
    </label>
    <br>
    <textarea id="inp-descriere"></textarea>
    <br>

    <div class="btn-group-toggle " data-toggle="buttons">
        <label class="btn btn-outline-secondary" id="label-colectie">
            <input type="checkbox" id="inp-colectie" style="display: none"> Produs de colectie
        </label>
    </div>

    <br>
    <label for="browser">Material:</label>
    <input list="materiale" name="material" id="inp-material">
    <datalist id="materiale">
        <option value="plastic">
        <option value="metal">
        <option value="cardboard">
        <option value="glass">
    </datalist>
    <p>
        <button id="filtrare">Filtreaza</button>
        <button id="resetare">Reseteaza</button>
        <br/>
        <button id="sortCrescNume">Sorteaza crescator</button>
        <button id="sortDescrescNume">Sorteaza descrescator</button>
    </p>

    <p id="p-suma">Apăsați Alt+"c" pentru suma preturilor produselor afișate. </p>

    <section id="produse">
        <h2>Produse</h2>
        <div class="grid-produse">
            <%for( let prod of locals.produse) { %>
                <article class="produs">
                    <h3 class="nume">Nume: <a href="/produs/<%- prod.id %>"><span
                                    class="val-nume"><%- prod.nume %></span></a></h3>
                    <h5>Categorie: <span class="val-categorie"><%- prod.categorie_produs %></span></h5>

                    <figure id="text-imagine">
                        <figcaption class="val-descriere"><%- prod.descriere %></figcaption>
                        <img src="/resurse/img/produse/<%- prod.imagine %>" style="width:50%;height:auto;"
                                                   alt="[imagine <%- prod.nume %>]"/>
                    </figure>

                    <ul class="info-prod">
                        <span class="val-producator" style="display: none"><%- prod.producator %></span>
                        <li class="pret">Pret: <span class="val-pret"><%- prod.pret %></span></li>
                        <li class="material">Material: <span class="val-material"><%- prod.material %></span></li>
                        <li class="componente">Componente: <span class="val-componente"><%- prod.componente %></span>
                        </li>
                        <% d = prod.data_adaugare;
                            var v_luna = ["Ianuarie", "Februarie", "Martie", "Aprilie", "Mai", "Iunie", "Iulie", "August", "Septembrie", "Octombrie", "Noiembrie", "Decembrie"];
                            var luna = v_luna[d.getMonth() - 1];
                            var v_zi = ["Luni", "Marti", "Miercuri", "Joi", "Vineri", "Sambata", "Duminica"];
                            var zi = v_zi[d.getDay() - 1]; %>
                        <li class="data">Data:
                            <time datetime="<% d.toUTCString() %>" class="val-data"><%- zi %>, <%- d.getDay() %>
                                -<%- luna %>
                                -<%- d.getFullYear() %></time>
                        </li>
                        <li class="colectie">Colectie: <span class="val-colectie"><%- prod.colectie %></span></li>
                        <li class="puncte">Puncte loialitate: <span
                                    class="val-puncte"><%- prod.puncte_loialitate %></span>
                        </li>
                    </ul>

                    <label class="selecteaza-cos">
                        Selectează:<br/>
                        <input type="checkbox" class="select-cos" value="<%- prod.id %>" autocomplete="off">
                    </label>
                </article>
            <%} %>
        </div>
    </section>
    <div class="accordion " id="accordionSection">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse"  aria-expanded="false">Pentru mai multe detalii</button></h2>
            <div class="accordion-collapse collapse " id="collapse" data-bs-parent="#accordionSection">
                <div class="accordion-body">
                    Pentru mai multe detalii contactati producatorul indicat in descrierea produsului
                </div>
            </div>
        </div>
    </div>
</main>

<%- include("../fragmente/footer") %>
</body>
</html>
